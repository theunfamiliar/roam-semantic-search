{"asctime": "2025-05-29 07:38:34", "levelname": "ERROR", "name": "app.services.search", "message": "Search failed", "filename": "search.py", "funcName": "search", "lineno": 66, "process": 1, "thread": 281473219116352, "exc_info": "Traceback (most recent call last):\n  File \"/app/app/services/search.py\", line 39, in search\n    if not all(map(lambda f: os.path.exists(f), files.values())):\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/app/services/search.py\", line 39, in <lambda>\n    if not all(map(lambda f: os.path.exists(f), files.values())):\n                             ^^\nNameError: name 'os' is not defined"}
{"asctime": "2025-05-29 07:38:34", "levelname": "ERROR", "name": "app.routes.search", "message": "Search failed", "filename": "search.py", "funcName": "search_endpoint", "lineno": 24, "process": 1, "thread": 281473219116352, "exc_info": "Traceback (most recent call last):\n  File \"/app/app/routes/search.py\", line 17, in search_endpoint\n    results = search(request)\n              ^^^^^^^^^^^^^^^\n  File \"/app/app/services/search.py\", line 39, in search\n    if not all(map(lambda f: os.path.exists(f), files.values())):\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/app/services/search.py\", line 39, in <lambda>\n    if not all(map(lambda f: os.path.exists(f), files.values())):\n                             ^^\nNameError: name 'os' is not defined"}
{"asctime": "2025-05-29 07:38:58", "levelname": "ERROR", "name": "app.services.indexing", "message": "Failed to fetch TOC data", "filename": "indexing.py", "funcName": "_fetch_roam_data", "lineno": 52, "process": 1, "thread": 281473219116352, "error": "Client error '401 Unauthorized' for url 'https://peer-13.api.roamresearch.com:3001/api/graph/None/q'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "status_code": 401, "response_text": "{\"message\":\"You are not authenticated\"}"}
{"asctime": "2025-05-29 07:38:58", "levelname": "ERROR", "name": "app.services.indexing", "message": "\u274c Failed to reindex ideas brain", "filename": "indexing.py", "funcName": "reindex_brain", "lineno": 240, "process": 1, "thread": 281473219116352, "exc_info": "Traceback (most recent call last):\n  File \"/app/app/services/indexing.py\", line 147, in reindex_brain\n    toc_result = await _fetch_roam_data(client, url, headers, toc_query, \"TOC data\")\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/app/services/indexing.py\", line 42, in _fetch_roam_data\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://peer-13.api.roamresearch.com:3001/api/graph/None/q'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "brain": "ideas", "error": "Client error '401 Unauthorized' for url 'https://peer-13.api.roamresearch.com:3001/api/graph/None/q'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "duration_seconds": 3.763566}
{"asctime": "2025-05-29 07:39:01", "levelname": "ERROR", "name": "app.services.notifications", "message": "\u274c Failed to send email: (535, b'5.7.8 Username and Password not accepted. For more information, go to\\n5.7.8  https://support.google.com/mail/?p=BadCredentials d2e1a72fcca58-747afe96943sm753935b3a.33 - gsmtp')", "filename": "notifications.py", "funcName": "send_email", "lineno": 28, "process": 1, "thread": 281473219116352}
{"asctime": "2025-05-29 07:39:01", "levelname": "ERROR", "name": "app.routes.reindex", "message": "Reindex failed", "filename": "reindex.py", "funcName": "reindex_endpoint", "lineno": 30, "process": 1, "thread": 281473219116352, "exc_info": "Traceback (most recent call last):\n  File \"/app/app/routes/reindex.py\", line 20, in reindex_endpoint\n    result = await reindex_brain(brain)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/app/services/indexing.py\", line 147, in reindex_brain\n    toc_result = await _fetch_roam_data(client, url, headers, toc_query, \"TOC data\")\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/app/services/indexing.py\", line 42, in _fetch_roam_data\n    response.raise_for_status()\n  File \"/usr/local/lib/python3.11/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://peer-13.api.roamresearch.com:3001/api/graph/None/q'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401"}
